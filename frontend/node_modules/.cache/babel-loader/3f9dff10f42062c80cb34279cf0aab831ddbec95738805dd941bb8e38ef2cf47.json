{"ast":null,"code":"import _toConsumableArray from\"/Users/za/PC-OCT-MVP/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/za/PC-OCT-MVP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState,useEffect}from'react';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import Header from'./components/Header';import Footer from'./components/Footer';import Login from'./components/Authentication/Login';import Logout from'./components/Authentication/Logout';import Signup from'./components/Authentication/Signup';import Dashboard from'./components/Dashboard';import AdminSettingsForm from'./components/Admin/AdminSettingsForm';import GameAdmin from'./components/Admin/GameAdmin';import OracleSetup from'./components/Admin/OracleSetup';import PurchaseTokenForm from'./components/Token/PurchaseTokenForm';import ClaimTokenForm from'./components/Token/ClaimTokenForm';import MigrateTokensForm from'./components/MigrateTokensForm';import TreasuryWithdrawForm from'./components/TreasuryWithdrawForm';import PriceView from'./components/Views/PriceView';import RevenueView from'./components/Views/RevenueView';import TokenView from'./components/Views/TokenView';import'./App.css';// Contexts\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var OracleContext=/*#__PURE__*/createContext();export var ContractContext=/*#__PURE__*/createContext();export var TreasuryContext=/*#__PURE__*/createContext();export var ErrorContext=/*#__PURE__*/createContext();export var LogContext=/*#__PURE__*/createContext();var App=function App(){// State variables\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),oracleResponses=_useState2[0],setOracleResponses=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),contractSettings=_useState4[0],setContractSettings=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),treasuryBalance=_useState6[0],setTreasuryBalance=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),logs=_useState8[0],setLogs=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),errorLog=_useState10[0],setErrorLog=_useState10[1];// Error handling\nvar handleRetry=function handleRetry(){// ... retry logic\n};var addToErrorLog=function addToErrorLog(error){setErrorLog(function(prevLog){return[].concat(_toConsumableArray(prevLog),[error]);});};// Real-time update logic\nuseEffect(function(){// Assume socket is a WebSocket instance\nvar socket=new WebSocket('ws://example.com/socket');// Define event handlers\nsocket.onopen=function(){console.log('WebSocket connection opened');};socket.onmessage=function(event){var updatedData=JSON.parse(event.data);// Assume updateData has a type property to switch on\nswitch(updatedData.type){case'TOKEN_UPDATE':// Assuming you have a setTokens function\nsetTokens(updatedData.tokens);break;case'GAME_UPDATE':// Assuming you have a setGames function\nsetGames(updatedData.games);break;// ... other cases\n}};socket.onclose=function(){console.log('WebSocket connection closed');};// Clean up the WebSocket connection when this component is unmounted\nreturn function(){socket.close();};},[]);// Empty dependency array means this runs once on mount, and cleanup runs on unmount\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(OracleContext.Provider,{value:{oracleResponses:oracleResponses,setOracleResponses:setOracleResponses},children:/*#__PURE__*/_jsx(ContractContext.Provider,{value:{contractSettings:contractSettings,setContractSettings:setContractSettings},children:/*#__PURE__*/_jsx(TreasuryContext.Provider,{value:{treasuryBalance:treasuryBalance,setTreasuryBalance:setTreasuryBalance},children:/*#__PURE__*/_jsx(ErrorContext.Provider,{value:{errorLog:errorLog,setErrorLog:setErrorLog,handleRetry:handleRetry,addToErrorLog:addToErrorLog},children:/*#__PURE__*/_jsx(LogContext.Provider,{value:{logs:logs,setLogs:setLogs},children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",component:Login}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",component:Logout}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",component:Signup}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",component:Dashboard}),/*#__PURE__*/_jsx(Route,{path:\"/admin/settings\",component:AdminSettingsForm}),/*#__PURE__*/_jsx(Route,{path:\"/admin/game\",component:GameAdmin}),/*#__PURE__*/_jsx(Route,{path:\"/admin/oracle\",component:OracleSetup}),/*#__PURE__*/_jsx(Route,{path:\"/token/purchase\",component:PurchaseTokenForm}),/*#__PURE__*/_jsx(Route,{path:\"/token/claim\",component:ClaimTokenForm}),/*#__PURE__*/_jsx(Route,{path:\"/token/migrate\",component:MigrateTokensForm}),/*#__PURE__*/_jsx(Route,{path:\"/treasury/withdraw\",component:TreasuryWithdrawForm}),/*#__PURE__*/_jsx(Route,{path:\"/view/price\",component:PriceView}),/*#__PURE__*/_jsx(Route,{path:\"/view/revenue\",component:RevenueView}),/*#__PURE__*/_jsx(Route,{path:\"/view/token\",component:TokenView}),/*#__PURE__*/_jsx(Route,{path:\"/\",component:Dashboard})]})})})})})})}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["React","createContext","useState","useEffect","BrowserRouter","Router","Route","Switch","Header","Footer","Login","Logout","Signup","Dashboard","AdminSettingsForm","GameAdmin","OracleSetup","PurchaseTokenForm","ClaimTokenForm","MigrateTokensForm","TreasuryWithdrawForm","PriceView","RevenueView","TokenView","jsx","_jsx","jsxs","_jsxs","OracleContext","ContractContext","TreasuryContext","ErrorContext","LogContext","App","_useState","_useState2","_slicedToArray","oracleResponses","setOracleResponses","_useState3","_useState4","contractSettings","setContractSettings","_useState5","_useState6","treasuryBalance","setTreasuryBalance","_useState7","_useState8","logs","setLogs","_useState9","_useState10","errorLog","setErrorLog","handleRetry","addToErrorLog","error","prevLog","concat","_toConsumableArray","socket","WebSocket","onopen","console","log","onmessage","event","updatedData","JSON","parse","data","type","setTokens","tokens","setGames","games","onclose","close","className","children","Provider","value","path","component"],"sources":["/Users/za/PC-OCT-MVP/frontend/src/app.jsx"],"sourcesContent":["\nimport React, { createContext, useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Login from './components/Authentication/Login';\nimport Logout from './components/Authentication/Logout';\nimport Signup from './components/Authentication/Signup';\nimport Dashboard from './components/Dashboard';\nimport AdminSettingsForm from './components/Admin/AdminSettingsForm';\nimport GameAdmin from './components/Admin/GameAdmin';\nimport OracleSetup from './components/Admin/OracleSetup';\nimport PurchaseTokenForm from './components/Token/PurchaseTokenForm';\nimport ClaimTokenForm from './components/Token/ClaimTokenForm';\nimport MigrateTokensForm from './components/MigrateTokensForm';\nimport TreasuryWithdrawForm from './components/TreasuryWithdrawForm';\nimport PriceView from './components/Views/PriceView';\nimport RevenueView from './components/Views/RevenueView';\nimport TokenView from './components/Views/TokenView';\nimport './App.css';\n\n// Contexts\nexport const OracleContext = createContext();\nexport const ContractContext = createContext();\nexport const TreasuryContext = createContext();\nexport const ErrorContext = createContext();\nexport const LogContext = createContext();\n\nconst App = () => {\n  // State variables\n  const [oracleResponses, setOracleResponses] = useState([]);\n  const [contractSettings, setContractSettings] = useState({});\n  const [treasuryBalance, setTreasuryBalance] = useState(0);\n  const [logs, setLogs] = useState([]);\n  const [errorLog, setErrorLog] = useState([]);\n\n  // Error handling\n  const handleRetry = () => {\n    // ... retry logic\n  };\n\n  const addToErrorLog = (error) => {\n    setErrorLog(prevLog => [...prevLog, error]);\n  };\n\n  // Real-time update logic\n  useEffect(() => {\n    // Assume socket is a WebSocket instance\n    const socket = new WebSocket('ws://example.com/socket');\n\n    // Define event handlers\n    socket.onopen = () => {\n      console.log('WebSocket connection opened');\n    };\n\n    socket.onmessage = (event) => {\n      const updatedData = JSON.parse(event.data);\n      // Assume updateData has a type property to switch on\n      switch (updatedData.type) {\n        case 'TOKEN_UPDATE':\n          // Assuming you have a setTokens function\n          setTokens(updatedData.tokens);\n          break;\n        case 'GAME_UPDATE':\n          // Assuming you have a setGames function\n          setGames(updatedData.games);\n          break;\n        // ... other cases\n      }\n    };\n\n    socket.onclose = () => {\n      console.log('WebSocket connection closed');\n    };\n\n    // Clean up the WebSocket connection when this component is unmounted\n    return () => {\n      socket.close();\n    };\n  }, []);  // Empty dependency array means this runs once on mount, and cleanup runs on unmount\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <OracleContext.Provider value={{ oracleResponses, setOracleResponses }}>\n        <ContractContext.Provider value={{ contractSettings, setContractSettings }}>\n          <TreasuryContext.Provider value={{ treasuryBalance, setTreasuryBalance }}>\n            <ErrorContext.Provider value={{ errorLog, setErrorLog, handleRetry, addToErrorLog }}>\n              <LogContext.Provider value={{ logs, setLogs }}>\n                <Router>\n                  <Switch>\n                    <Route path=\"/login\" component={Login} />\n                    <Route path=\"/logout\" component={Logout} />\n                    <Route path=\"/signup\" component={Signup} />\n                    <Route path=\"/dashboard\" component={Dashboard} />\n                    <Route path=\"/admin/settings\" component={AdminSettingsForm} />\n                    <Route path=\"/admin/game\" component={GameAdmin} />\n                    <Route path=\"/admin/oracle\" component={OracleSetup} />\n                    <Route path=\"/token/purchase\" component={PurchaseTokenForm} />\n                    <Route path=\"/token/claim\" component={ClaimTokenForm} />\n                    <Route path=\"/token/migrate\" component={MigrateTokensForm} />\n                    <Route path=\"/treasury/withdraw\" component={TreasuryWithdrawForm} />\n                    <Route path=\"/view/price\" component={PriceView} />\n                    <Route path=\"/view/revenue\" component={RevenueView} />\n                    <Route path=\"/view/token\" component={TokenView} />\n                    <Route path=\"/\" component={Dashboard} />\n                  </Switch>\n                </Router>\n              </LogContext.Provider>\n            </ErrorContext.Provider>\n          </TreasuryContext.Provider>\n        </ContractContext.Provider>\n      </OracleContext.Provider>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}